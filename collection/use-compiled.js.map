{"version":3,"sources":["use.js"],"names":[],"mappings":";;AAAA;AACA,IAAI,MAAM,QAAQ,gBAAR,CAAV;AACA;AACA,QAAQ,MAAR,GAAiB,UAAC,GAAD,EAAK,GAAL,EAAa;AAC5B;AACA,MAAI,IAAJ,CAAS,EAAT,EAAY,EAAC,WAAU,CAAX,EAAZ,EAA0B,UAAC,GAAD,EAAK,GAAL,EAAa;AACrC,QAAG,GAAH,EAAO;AACL,aAAO,IAAI,IAAJ,CAAS,EAAC,cAAa,OAAd,EAAsB,OAAM,UAA5B,EAAT,CAAP;AACD;AACD,WAAO,IAAI,MAAJ,CAAW,KAAX,EAAiB;AACtB,aAAO,MADe;AAEtB,eAAS,IAAI,OAAJ,CAAY,QAFC;AAGtB,YAAM;AAHgB,KAAjB,CAAP;AAKD,GATD;AAUD,CAZD;;AAcA;AACA,QAAQ,SAAR,GAAoB,UAAC,GAAD,EAAK,GAAL,EAAa;AAC/B;AACA,MAAI,KAAK,IAAI,KAAJ,CAAU,EAAnB;AACA;AACA,MAAI,MAAJ,CAAW,EAAC,OAAO,EAAR,EAAX,EAAuB,UAAC,GAAD,EAAS;AAC9B,QAAG,GAAH,EAAO;AACL,aAAO,IAAI,IAAJ,CAAS,EAAC,cAAa,OAAd,EAAsB,OAAM,YAA5B,EAAT,CAAP;AACD;AACD,WAAO,IAAI,QAAJ,CAAa,MAAb,CAAP;AACD,GALD;AAMD,CAVD;;AAYA;AACA,QAAQ,OAAR,GAAkB,UAAC,GAAD,EAAK,GAAL,EAAa;AAC7B;AACA,MAAI,UAAU,IAAI,IAAJ,CAAS,OAAvB;AACA;AACA,MAAI,MAAJ,CAAW,EAAC,WAAU,OAAX,EAAX,EAA+B,UAAC,GAAD,EAAS;AACtC,QAAG,GAAH,EAAO;AACL,aAAO,IAAI,IAAJ,CAAS,EAAC,cAAa,OAAd,EAAsB,OAAM,UAA5B,EAAT,CAAP;AACD;AACD,WAAO,IAAI,IAAJ,CAAS,EAAC,cAAa,SAAd,EAAwB,OAAM,UAA9B,EAAT,CAAP;AACD,GALD;AAMD,CAVD","file":"use-compiled.js","sourcesContent":["//导入use对象模型\r\nlet Use = require('../modules/use');\r\n//--------------------用途管理get路由\r\nexports.getUse = (req,res) => {\r\n  //查询用途管理库\r\n  Use.find({},{'useName':1},(err,use) => {\r\n    if(err){\r\n      return res.json({'postStatus':'error','msg':'用途管理查询失败'});\r\n    }\r\n    return res.render('use',{\r\n      title: '用途管理',\r\n      session: req.session.username,\r\n      docs: use\r\n    });\r\n  });\r\n};\r\n\r\n//----------------------用途管理删除路由\r\nexports.deleteUse = (req,res) => {\r\n  //获取query信息\r\n  let id = req.query.id;\r\n  //删除用途管理信息\r\n  Use.remove({'_id': id},(err) => {\r\n    if(err){\r\n      return res.json({'postStatus':'error','msg':'用途管理信息删除失败'})\r\n    }\r\n    return res.redirect('back');\r\n  });\r\n};\r\n\r\n//----------------------用途管理添加处理逻辑\r\nexports.postUse = (req,res) => {\r\n  //获取表单数据\r\n  let useName = req.body.useName;\r\n  //准备写入到mongodb\r\n  Use.create({'useName':useName},(err) => {\r\n    if(err){\r\n      return res.json({'postStatus':'error','msg':'用途管理添加失败'});\r\n    }\r\n    return res.json({'postStatus':'success','msg':'用途管理添加完成'});\r\n  });\r\n};"]}